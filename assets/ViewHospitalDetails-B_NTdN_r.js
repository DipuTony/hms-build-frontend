var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,s,l)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l,d=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&r(e,s,t[s]);if(l)for(var s of l(t))o.call(t,s)&&r(e,s,t[s]);return e},n=(e,l)=>t(e,s(l)),i=(e,t,s)=>new Promise((l,a)=>{var o=e=>{try{d(s.next(e))}catch(t){a(t)}},r=e=>{try{d(s.throw(e))}catch(t){a(t)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,r);d((s=s.apply(e,t)).next())});import{z as c,j as u,n as m}from"./ui-BM_Qdf4X.js";import{r as x}from"./vendor-IVAbD_Ia.js";import{A as h}from"./apiEndpoints-DqDHaI1a.js";import{N as p}from"./NavBarIndex-By_Srw2q.js";import{C as g}from"./CommonModal-CR-TkZ4S.js";import{u as b}from"./formik.esm-ChFveakS.js";import{c as y,a as f}from"./index.esm-B5BHOsnc.js";import{a as j}from"./axiosConfig-Dc1nKXq_.js";import{A as v}from"./ApiList-B1H3egYh.js";import{d as N,a as w}from"./router-DmxMsUT6.js";import{c as k,U as S}from"./index-B6zYgTVN.js";import{T as C}from"./trash-2-BC9Ip2N6.js";import"./index-BUoLAcM7.js";import"./axios-CgL8z04V.js";
/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=k("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),F=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),U=k("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);
/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function _({showModal:e,closeModal:t,hospitalId:s,refetchHospitalData:l}){const[a,o]=x.useState(!1),{api_register:r}=v(),d=y({customerName:f().required("Customer name is required"),email:f().email("Invalid email format").required("Email is required"),password:f().min(6,"Password must be at least 6 characters").required("Password is required")}),n=b({initialValues:{hospitalId:s,customerName:"",email:"",password:""},validationSchema:d,onSubmit:e=>{console.log("Form Submitted:",e),j.post(r,e).then(e=>{e.data.status?(o(!1),c.success(e.data.message),console.log("Register Successful",e),l(),t()):(o(!1),c.error(e.data.message),console.log("Error occurred",e))}).catch(e=>{var t,s;console.log("Error while register",e),o(!1),c.error(null==(s=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:s.message)})}});return u.jsxs("div",{className:"p-6 bg-white rounded shadow-lg",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New User"}),u.jsxs("form",{onSubmit:n.handleSubmit,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),u.jsx("input",{type:"text",id:"customerName",name:"customerName",className:"mt-1 block w-full border rounded-md p-2 "+(n.touched.customerName&&n.errors.customerName?"border-red-500":"border-gray-300"),value:n.values.customerName,onChange:n.handleChange,onBlur:n.handleBlur}),n.touched.customerName&&n.errors.customerName&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.errors.customerName})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",id:"email",name:"email",className:"mt-1 block w-full border rounded-md p-2 "+(n.touched.email&&n.errors.email?"border-red-500":"border-gray-300"),value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur}),n.touched.email&&n.errors.email&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.errors.email})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{type:"password",id:"password",name:"password",className:"mt-1 block w-full border rounded-md p-2 "+(n.touched.password&&n.errors.password?"border-red-500":"border-gray-300"),value:n.values.password,onChange:n.handleChange,onBlur:n.handleBlur}),n.touched.password&&n.errors.password&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.errors.password})]}),u.jsxs("div",{className:"flex items-center justify-end",children:[u.jsx("button",{type:"button",onClick:t,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md mr-4",children:"Cancel"}),u.jsx("button",{disabled:a,type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md disabled:opacity-70",children:a?"Saving..":"Add User"})]})]})]})}function A(){const{hospitalId:e}=N(),t=w(),[s,l]=x.useState(!1),[a,o]=x.useState(!1),[r,c]=x.useState(null),[b,y]=x.useState(null),[f,v]=x.useState(null),[k,A]=x.useState(!1),[E,M]=x.useState(null),[I,P]=x.useState(null),L=x.useRef(),[$,q]=x.useState(!1),[z,B]=x.useState(!1),[O,H]=x.useState({customerName:"",email:"",phone:"",password:"",accountStatus:1}),[R,J]=x.useState(null),[T,W]=x.useState(!1),[V,G]=x.useState([]),[K,Q]=x.useState(!1),[X,Y]=x.useState(!1),[Z,ee]=x.useState({doctorName:"",phoneNumber:"",degree:""}),[te,se]=x.useState(null),[le,ae]=x.useState(!1),[oe,re]=x.useState([]),[de,ne]=x.useState({}),ie=()=>l(!1),ce=()=>o(!1),ue=()=>q(!1),me=()=>B(!1),xe=()=>Q(!1),he=()=>Y(!1),pe=()=>i(this,null,function*(){var t,s,l,a;try{A(!0),P(null);const l=yield j.post(h.api_view_one_hospital,{hospitalId:e});(null==(t=null==l?void 0:l.data)?void 0:t.status)?M(l.data.data):(M(null),P((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Failed to fetch hospital data"))}catch(o){M(null);const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to fetch hospital data";P(e),m.error("Error: "+e),console.error("Failed to fetch hospital data",o)}finally{A(!1)}}),ge=()=>i(this,null,function*(){var e,t,s,l;try{W(!0);const s=yield j.get(h.api_hospital_users);(null==(e=null==s?void 0:s.data)?void 0:e.status)?G(s.data.data||[]):(G([]),m.error((null==(t=null==s?void 0:s.data)?void 0:t.message)||"Failed to fetch users"))}catch(a){G([]);const e=(null==(l=null==(s=null==a?void 0:a.response)?void 0:s.data)?void 0:l.message)||"Failed to fetch users";m.error("Error: "+e),console.error("Failed to fetch users",a)}finally{W(!1)}}),be=()=>i(this,null,function*(){var e,t,s,l;try{ae(!0);const s=yield j.get(h.api_view_doctors);(null==(e=null==s?void 0:s.data)?void 0:e.status)?re(s.data.data||[]):(re([]),m.error((null==(t=null==s?void 0:s.data)?void 0:t.message)||"Failed to fetch doctors"))}catch(a){re([]);const e=(null==(l=null==(s=null==a?void 0:a.response)?void 0:s.data)?void 0:l.message)||"Failed to fetch doctors";m.error("Error: "+e),console.error("Failed to fetch doctors",a)}finally{ae(!1)}}),ye=e=>{const{name:t,value:s,type:l,checked:a}=e.target;H(e=>n(d({},e),{[t]:"checkbox"===l?a:s}))},fe=e=>{const{name:t,value:s,type:l,checked:a}=e.target;J(e=>n(d({},e),{[t]:"checkbox"===l?a:s}))},je=e=>i(this,null,function*(){var t,s,l,a;if(window.confirm("Are you sure you want to delete this user?"))try{ne(t=>n(d({},t),{[`deleteUser_${e}`]:!0}));const l=yield j.delete(`${h.api_delete_user}/${e}`);(null==(t=null==l?void 0:l.data)?void 0:t.status)?(m.success("User deleted successfully!"),ge()):m.error((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Failed to delete user")}catch(o){const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to delete user";m.error("Error: "+e),console.error("Failed to delete user",o)}finally{ne(t=>n(d({},t),{[`deleteUser_${e}`]:!1}))}}),ve=e=>{const{name:t,value:s}=e.target;ee(e=>n(d({},e),{[t]:s}))},Ne=e=>{const{name:t,value:s}=e.target;se(e=>n(d({},e),{[t]:s}))},we=e=>i(this,null,function*(){var t,s,l,a;if(window.confirm("Are you sure you want to delete this doctor?"))try{ne(t=>n(d({},t),{[`deleteDoctor_${e}`]:!0}));const l=yield j.delete(`${h.api_delete_doctor}/${e}`);(null==(t=null==l?void 0:l.data)?void 0:t.status)?(m.success("Doctor deleted successfully!"),be()):m.error((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Failed to delete doctor")}catch(o){const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to delete doctor";m.error("Error: "+e),console.error("Failed to delete doctor",o)}finally{ne(t=>n(d({},t),{[`deleteDoctor_${e}`]:!1}))}});if(x.useEffect(()=>{pe(),ge(),be()},[e]),k)return u.jsx("div",{className:"text-center text-xl mt-10",children:"Loading..."});if(!E)return u.jsx("div",{className:"text-center text-xl mt-10",children:"No Hospital Data Found"});const{name:ke,address:Se,city:Ce,state:De,postalCode:Fe,country:Ue,phoneNumber:_e,email:Ae,website:Ee,users:Me,doctors:Ie,logoUrl:Pe,isActive:Le}=E,$e=e=>{c(n(d({},r),{[e.target.name]:e.target.value}))},qe=()=>i(this,null,function*(){try{yield j.put(h.api_update_hospital,d({hospitalId:e},r)),ce(),pe(),alert("Hospital details updated!")}catch(t){alert("Failed to update hospital.")}});return u.jsxs(u.Fragment,{children:[u.jsx(p,{title:"Hospital Details"}),u.jsxs("button",{onClick:()=>t(-1),className:"fixed top-20 right-10 z-50 flex items-center gap-2 bg-white shadow-lg rounded-lg px-3 py-2 text-gray-600 hover:text-gray-800 hover:shadow-xl transition-all duration-200 border border-gray-200",children:[u.jsx(D,{size:18}),u.jsx("span",{className:"font-medium text-sm",children:"Back"})]}),u.jsx(g,{showModal:s,closeModal:ie,children:u.jsx(_,{hospitalId:e,showModal:s,closeModal:ie,refetchHospitalData:pe})}),u.jsx(g,{showModal:$,closeModal:ue,children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Add New User"}),u.jsxs("form",{onSubmit:e=>i(this,null,function*(){var t,s,l,a;e.preventDefault();try{ne(e=>n(d({},e),{addUser:!0}));const e=yield j.post(h.api_add_user,O);(null==(t=null==e?void 0:e.data)?void 0:t.status)?(m.success("User added successfully!"),ue(),ge()):m.error((null==(s=null==e?void 0:e.data)?void 0:s.message)||"Failed to add user")}catch(o){const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to add user";m.error("Error: "+e),console.error("Failed to add user",o)}finally{ne(e=>n(d({},e),{addUser:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Full Name"}),u.jsx("input",{type:"text",name:"customerName",value:O.customerName,onChange:ye,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:O.email,onChange:ye,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:O.phone,onChange:ye,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Password"}),u.jsx("input",{type:"password",name:"password",value:O.password,onChange:ye,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Account Status"}),u.jsxs("select",{name:"accountStatus",value:O.accountStatus,onChange:ye,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",children:[u.jsx("option",{value:1,children:"Active"}),u.jsx("option",{value:0,children:"Unverified"}),u.jsx("option",{value:2,children:"Payment Due"}),u.jsx("option",{value:3,children:"Self Deactivated"}),u.jsx("option",{value:9,children:"Blocked"})]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:ue,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:de.addUser,className:"px-5 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 shadow transition-colors disabled:opacity-50",children:de.addUser?"Adding...":"Add User"})]})]})]})}),u.jsx(g,{showModal:z,closeModal:me,children:R&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit User"}),u.jsxs("form",{onSubmit:e=>i(this,null,function*(){var t,s,l,a;e.preventDefault();try{ne(e=>n(d({},e),{updateUser:!0}));const e=yield j.put(`${h.api_update_user}/${R.userId}`,R);(null==(t=null==e?void 0:e.data)?void 0:t.status)?(m.success("User updated successfully!"),me(),ge()):m.error((null==(s=null==e?void 0:e.data)?void 0:s.message)||"Failed to update user")}catch(o){const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to update user";m.error("Error: "+e),console.error("Failed to update user",o)}finally{ne(e=>n(d({},e),{updateUser:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Full Name"}),u.jsx("input",{type:"text",name:"customerName",value:R.customerName,onChange:fe,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:R.email,onChange:fe,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:R.phone||"",onChange:fe,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Account Status"}),u.jsxs("select",{name:"accountStatus",value:R.accountStatus,onChange:fe,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",children:[u.jsx("option",{value:1,children:"Active"}),u.jsx("option",{value:0,children:"Unverified"}),u.jsx("option",{value:2,children:"Payment Due"}),u.jsx("option",{value:3,children:"Self Deactivated"}),u.jsx("option",{value:9,children:"Blocked"})]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:me,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:de.updateUser,className:"px-5 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 shadow transition-colors disabled:opacity-50",children:de.updateUser?"Updating...":"Update User"})]})]})]})}),u.jsx(g,{showModal:K,closeModal:xe,children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Add New Doctor"}),u.jsxs("form",{onSubmit:e=>i(this,null,function*(){var t,s,l,a;e.preventDefault();try{ne(e=>n(d({},e),{addDoctor:!0}));const e=yield j.post(h.api_add_doctor,Z);(null==(t=null==e?void 0:e.data)?void 0:t.status)?(m.success("Doctor added successfully!"),xe(),be()):m.error((null==(s=null==e?void 0:e.data)?void 0:s.message)||"Failed to add doctor")}catch(o){const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to add doctor";m.error("Error: "+e),console.error("Failed to add doctor",o)}finally{ne(e=>n(d({},e),{addDoctor:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Doctor Name"}),u.jsx("input",{type:"text",name:"doctorName",value:Z.doctorName,onChange:ve,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone Number"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:Z.phoneNumber,onChange:ve,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Degree"}),u.jsx("input",{type:"text",name:"degree",value:Z.degree,onChange:ve,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:xe,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:de.addDoctor,className:"px-5 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 shadow transition-colors disabled:opacity-50",children:de.addDoctor?"Adding...":"Add Doctor"})]})]})]})}),u.jsx(g,{showModal:X,closeModal:he,children:te&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit Doctor"}),u.jsxs("form",{onSubmit:e=>i(this,null,function*(){var t,s,l,a;e.preventDefault();try{ne(e=>n(d({},e),{updateDoctor:!0}));const e=yield j.put(`${h.api_update_doctor}/${te.doctorId}`,te);(null==(t=null==e?void 0:e.data)?void 0:t.status)?(m.success("Doctor updated successfully!"),he(),be()):m.error((null==(s=null==e?void 0:e.data)?void 0:s.message)||"Failed to update doctor")}catch(o){const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to update doctor";m.error("Error: "+e),console.error("Failed to update doctor",o)}finally{ne(e=>n(d({},e),{updateDoctor:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Doctor Name"}),u.jsx("input",{type:"text",name:"doctorName",value:te.doctorName,onChange:Ne,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone Number"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:te.phoneNumber||"",onChange:Ne,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Degree"}),u.jsx("input",{type:"text",name:"degree",value:te.degree||"",onChange:Ne,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:he,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:de.updateDoctor,className:"px-5 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 shadow transition-colors disabled:opacity-50",children:de.updateDoctor?"Updating...":"Update Doctor"})]})]})]})}),u.jsx(g,{showModal:a,closeModal:ce,children:r&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit Hospital Details"}),u.jsxs("form",{onSubmit:e=>{e.preventDefault(),qe()},children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.keys(r).map(e=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 capitalize text-gray-700",children:e}),u.jsx("input",{type:"text",name:e,value:r[e],onChange:$e,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400 bg-gray-50"})]},e))}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:ce,className:"px-5 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-5 py-2 rounded bg-green-600 text-white font-semibold hover:bg-green-700 shadow",children:"Save"})]})]})]})}),u.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 mt-4",children:[u.jsxs("div",{className:"bg-white shadow-xl rounded-xl flex flex-col md:flex-row items-center md:items-start gap-6 p-6 mb-8",children:[u.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[u.jsxs("div",{className:"relative w-24 h-24 mb-2",children:[u.jsx("img",{src:b||Pe||"https://via.placeholder.com/120x120?text=Logo",alt:"Hospital Logo",className:"w-24 h-24 object-cover rounded-full border-4 border-green-200 shadow"}),u.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1.5 shadow-lg hover:bg-blue-700 transition-colors",onClick:()=>L.current.click(),title:"Upload Logo",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),u.jsx("input",{type:"file",accept:"image/*",ref:L,className:"hidden",onChange:e=>{const t=e.target.files[0];t&&(v(t),y(URL.createObjectURL(t)))}})]}),f&&u.jsx("button",{onClick:()=>i(this,null,function*(){if(!f)return;const t=new FormData;t.append("logo",f),t.append("hospitalId",e);try{yield j.post(h.api_upload_logo,t,{headers:{"Content-Type":"multipart/form-data"}}),v(null),y(null),pe(),alert("Logo uploaded successfully!")}catch(s){alert("Failed to upload logo.")}}),className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 mt-1",children:"Upload"}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full mt-2 "+(Le?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500"),children:Le?"Active":"Inactive"})]}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[u.jsx("h2",{className:"text-xl font-bold mb-1 md:mb-0",children:ke}),u.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[u.jsx("button",{onClick:()=>{c({name:ke,address:Se,city:Ce,state:De,postalCode:Fe,country:Ue,phoneNumber:_e,email:Ae,website:Ee}),o(!0)},className:"px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600 text-xs",children:"Edit"}),u.jsx("button",{onClick:()=>i(this,null,function*(){if(window.confirm("Are you sure you want to deactivate this hospital?"))try{yield j.put(h.api_deactivate_hospital,{hospitalId:e}),pe(),alert("Hospital deactivated!")}catch(t){alert("Failed to deactivate hospital.")}}),className:"px-3 py-1 rounded bg-gray-500 text-white hover:bg-gray-600 text-xs",children:"Deactivate"}),u.jsx("button",{onClick:()=>i(this,null,function*(){if(window.confirm("Are you sure you want to delete this hospital?"))try{yield j.delete(h.api_delete_hospital,{data:{hospitalId:e}}),t(-1)}catch(s){}}),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700 text-xs",children:"Delete"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-1 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Address:"})," ",Se,", ",Ce,", ",De,", ",Fe,", ",Ue]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Phone:"})," ",_e]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Email:"})," ",Ae]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Website:"})," ",u.jsx("a",{href:Ee,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:Ee})]})]})]})]}),u.jsxs("div",{className:"bg-white shadow-xl rounded-xl p-6 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Users Management"}),u.jsxs("button",{onClick:()=>{H({customerName:"",email:"",phone:"",password:"",accountStatus:1}),q(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors shadow-lg",children:[u.jsx(S,{size:20}),"Add New User"]})]}),T?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):V&&V.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-b-2 border-blue-200",children:[u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"#"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Full Name"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Email"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Phone"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Status"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Joined On"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Actions"})]})}),u.jsx("tbody",{children:V.map((e,t)=>u.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"py-3 px-4 font-medium text-gray-600",children:t+1}),u.jsx("td",{className:"py-3 px-4 font-medium text-gray-800",children:e.customerName}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.email}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.phone||"N/A"}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+(1===e.accountStatus?"bg-green-100 text-green-800":0===e.accountStatus?"bg-yellow-100 text-yellow-800":2===e.accountStatus?"bg-orange-100 text-orange-800":3===e.accountStatus?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:1===e.accountStatus?"Active":0===e.accountStatus?"Unverified":2===e.accountStatus?"Payment Due":3===e.accountStatus?"Deactivated":"Blocked"})}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(e.createdAt).toLocaleDateString()}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>(e=>{J(d({},e)),B(!0)})(e),className:"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:de[`updateUser_${e.userId}`],children:[u.jsx(U,{size:14}),"Edit"]}),u.jsxs("button",{onClick:()=>je(e.userId),className:"flex items-center gap-1 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:de[`deleteUser_${e.userId}`],children:[u.jsx(C,{size:14}),"Delete"]})]})})]},e.userId))})]})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 mb-4",children:u.jsx(S,{size:48,className:"mx-auto"})}),u.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:"No users found"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first user to get started"})]})]}),u.jsxs("div",{className:"bg-white shadow-xl rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Doctors Management"}),u.jsxs("button",{onClick:()=>{ee({doctorName:"",phoneNumber:"",degree:""}),Q(!0)},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors shadow-lg",children:[u.jsx(F,{size:20}),"Add New Doctor"]})]}),le?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading doctors..."})]}):oe&&oe.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gradient-to-r from-green-50 to-green-100 border-b-2 border-green-200",children:[u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"#"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Doctor Name"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Phone Number"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Degree"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Registered By"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Joined On"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Actions"})]})}),u.jsx("tbody",{children:oe.map((e,t)=>u.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"py-3 px-4 font-medium text-gray-600",children:t+1}),u.jsx("td",{className:"py-3 px-4 font-medium text-gray-800",children:e.doctorName}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.phoneNumber||"N/A"}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.degree||"N/A"}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.registeredByName||"Unknown"}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(e.createdAt).toLocaleDateString()}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>(e=>{se(d({},e)),Y(!0)})(e),className:"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:de[`updateDoctor_${e.doctorId}`],children:[u.jsx(U,{size:14}),"Edit"]}),u.jsxs("button",{onClick:()=>we(e.doctorId),className:"flex items-center gap-1 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:de[`deleteDoctor_${e.doctorId}`],children:[u.jsx(C,{size:14}),"Delete"]})]})})]},e.doctorId))})]})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 mb-4",children:u.jsx(F,{size:48,className:"mx-auto"})}),u.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:"No doctors found"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first doctor to get started"})]})]})]})]})}export{A as default};
