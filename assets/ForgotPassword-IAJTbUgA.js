var e=Object.defineProperty,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,o=(e,o)=>{for(var i in o||(o={}))t.call(o,i)&&a(e,i,o[i]);if(s)for(var i of s(o))r.call(o,i)&&a(e,i,o[i]);return e};import{j as i}from"./ui-BM_Qdf4X.js";import{r as l}from"./vendor-IVAbD_Ia.js";import{u as n}from"./formik.esm-ChFveakS.js";import{c as d,a as m}from"./index.esm-B5BHOsnc.js";import{a as c}from"./axios-CgL8z04V.js";import{A as u}from"./ApiList-B1H3egYh.js";import{$ as g}from"./module-Bt5WAu5e.js";import{A as x}from"./index-B6zYgTVN.js";import{a as p}from"./router-DmxMsUT6.js";const f=e=>{const[s,t]=l.useState(!1),[r,a]=l.useState({}),f=p(),{api_forgotPassword:h}=u(),{isLoggedIn:j,userIs:b}=x();l.useEffect(()=>{1==j&&"user"==b&&f("/user"),1==j&&"admin"==b&&f("/admin")},[]);const y=d({email:m().required("Require")}),v=n({initialValues:{email:""},enableReinitialize:!0,onSubmit:(e,s)=>{console.log("Value.....",e),w(e)},validationSchema:y}),w=e=>{a(),t(!0),c.post(h,{email:null==e?void 0:e.email}).then(e=>{e.data.status?(t(!1),a({status:!0,message:e.data.message}),console.log("Reset Link Send Successful",e)):(a({status:!1,message:e.data.message}),t(!1),console.log("Email Not found",e))}).catch(e=>{console.log("Error while Sending reset link",e),t(!1),a({status:!1,message:e.response.data.message})})};return i.jsx(i.Fragment,{children:i.jsx("section",{className:"h-screen",children:i.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:i.jsx("div",{className:"w-full bg-white rounded-lg shadow  md:mt-0 sm:max-w-md xl:p-0",children:i.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[i.jsx("h1",{className:"text-xl cursor-pointer text-center font-bold leading-tight tracking-tight text-gray-900 md:text-2xl ",children:"Forgot Password"}),i.jsx("form",{onSubmit:v.handleSubmit,onChange:e=>{e.target.name,e.target.value},className:"space-y-4 md:space-y-2",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"",className:"text-base font-medium text-gray-900",children:"Email address"}),i.jsxs("div",{className:"mt-2.5",children:[i.jsx("input",o({placeholder:"Email",className:"flex h-10 w-full rounded-md border border-gray-300 bg-transparent py-2 px-3 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",type:"email"},v.getFieldProps("email"))),i.jsx("p",{className:"text-red-500 text-xs",children:v.touched.email&&v.errors.email?v.errors.email:null})]})]}),(null==r?void 0:r.message)&&i.jsx("div",{className:`py-1 text-center text-sm font-medium border rounded ${(null==r?void 0:r.status)?"text-green-500 bg-green-50 border-green-400":"text-red-500 bg-red-100 border-red-400"} `,children:r&&(null==r?void 0:r.message)}),i.jsxs("div",{children:[i.jsxs("button",{type:"submit",disabled:s,className:"w-full flex justify-center items-center disabled:bg-gray-400 text-white bg-gray-600 hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:[!s&&"Send Reset Link",i.jsx(g,{strokeColor:"white",strokeWidth:"6",animationDuration:"0.75",width:"20",visible:s})]}),i.jsx("p",{className:"text-sm font-light flex justify-between text-gray-500 mt-2",children:i.jsxs("p",{children:[i.jsx("span",{onClick:()=>f("/login"),className:"font-medium text-gray-600 hover:underline cursor-pointer cursor-pointer",children:"Login "}),"Already have account ?"]})})]})]})})]})})})})})};export{f as default};
