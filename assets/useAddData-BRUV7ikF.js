import{r as s}from"./vendor-IVAbD_Ia.js";import{a}from"./axiosConfig-DyWwVpEC.js";import{n as e}from"./ui-BM_Qdf4X.js";import{a as o}from"./router-DmxMsUT6.js";const d=d=>{const[t,r]=s.useState(!1),[l,n]=s.useState(null),[i,u]=s.useState(null),c=o();return{loading:t,error:l,responseData:i,addData:(s,o)=>{r(!0),n(null),u(null),a.post(d,s).then(s=>{r(!1),s.data.status?(u(s.data.data),e.success(s.data.message),console.info("HOOK Data added successfully",s.data),o&&o.handleAddSuccess&&o.handleAddSuccess()):(e.error(s.data.message),n("Failed to add data"),console.log("Failed to add data"))}).catch(s=>{var a,o,d,t,l,i,u;if(r(!1),console.error("Failed to add data",{status:null==(a=s.response)?void 0:a.status,message:null==(d=null==(o=s.response)?void 0:o.data)?void 0:d.message,url:null==(t=s.config)?void 0:t.url,method:null==(l=s.config)?void 0:l.method}),s.response&&401===s.response.status){const a=s.response.data.message||"";if(a.includes("expired")||a.includes("invalid"))return void c("/sessionExpired")}const m=(null==(u=null==(i=s.response)?void 0:i.data)?void 0:u.message)||"Failed to add data";e.error("Error: "+m),n(m)})}}};export{d as u};
