var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,s,l)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[s]=l,d=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&r(e,s,t[s]);if(l)for(var s of l(t))o.call(t,s)&&r(e,s,t[s]);return e},n=(e,l)=>t(e,s(l)),i=(e,t,s)=>new Promise((l,a)=>{var o=e=>{try{d(s.next(e))}catch(t){a(t)}},r=e=>{try{d(s.throw(e))}catch(t){a(t)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,r);d((s=s.apply(e,t)).next())});import{z as c,j as u,n as m}from"./ui-BM_Qdf4X.js";import{r as x}from"./vendor-IVAbD_Ia.js";import{A as h}from"./apiEndpoints-CtCAa7F0.js";import{N as p}from"./NavBarIndex-D6cju6bs.js";import{C as g}from"./CommonModal-DrHaDKJT.js";import{u as b}from"./formik.esm-ChFveakS.js";import{c as y,a as f}from"./index.esm-B5BHOsnc.js";import{a as j}from"./axiosConfig-DyWwVpEC.js";import{A as v}from"./ApiList-Bvu3Wuqy.js";import{d as N,a as w}from"./router-DmxMsUT6.js";import{A as k}from"./arrow-left-BaZYfhSY.js";import{c as C,U as S}from"./index-BeQWOJxL.js";import{T as D}from"./trash-2-BKjogj3R.js";import"./index-BUoLAcM7.js";import"./axios-CgL8z04V.js";
/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=C("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),A=C("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),F=C("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);
/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function _({showModal:e,closeModal:t,hospitalId:s,refetchHospitalData:l}){const[a,o]=x.useState(!1),{api_register:r}=v(),d=y({customerName:f().required("Customer name is required"),email:f().email("Invalid email format").required("Email is required"),password:f().min(6,"Password must be at least 6 characters").required("Password is required")}),n=b({initialValues:{hospitalId:s,customerName:"",email:"",password:""},validationSchema:d,onSubmit:e=>{console.log("Form Submitted:",e),j.post(r,e).then(e=>{e.data.status?(o(!1),c.success(e.data.message),console.log("Register Successful",e),l(),t()):(o(!1),c.error(e.data.message),console.log("Error occurred",e))}).catch(e=>{var t,s;console.log("Error while register",e),o(!1),c.error(null==(s=null==(t=null==e?void 0:e.response)?void 0:t.data)?void 0:s.message)})}});return u.jsxs("div",{className:"p-6 bg-white rounded shadow-lg",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New User"}),u.jsxs("form",{onSubmit:n.handleSubmit,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700",children:"Customer Name"}),u.jsx("input",{type:"text",id:"customerName",name:"customerName",className:"mt-1 block w-full border rounded-md p-2 "+(n.touched.customerName&&n.errors.customerName?"border-red-500":"border-gray-300"),value:n.values.customerName,onChange:n.handleChange,onBlur:n.handleBlur}),n.touched.customerName&&n.errors.customerName&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.errors.customerName})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",id:"email",name:"email",className:"mt-1 block w-full border rounded-md p-2 "+(n.touched.email&&n.errors.email?"border-red-500":"border-gray-300"),value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur}),n.touched.email&&n.errors.email&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.errors.email})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{type:"password",id:"password",name:"password",className:"mt-1 block w-full border rounded-md p-2 "+(n.touched.password&&n.errors.password?"border-red-500":"border-gray-300"),value:n.values.password,onChange:n.handleChange,onBlur:n.handleBlur}),n.touched.password&&n.errors.password&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.errors.password})]}),u.jsxs("div",{className:"flex items-center justify-end",children:[u.jsx("button",{type:"button",onClick:t,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md mr-4",children:"Cancel"}),u.jsx("button",{disabled:a,type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md disabled:opacity-70",children:a?"Saving..":"Add User"})]})]})]})}function I(){const{hospitalId:e}=N(),t=w(),[s,l]=x.useState(!1),[a,o]=x.useState(!1),[r,c]=x.useState(null),[b,y]=x.useState(null),[f,v]=x.useState(null),[C,I]=x.useState(!1),[M,E]=x.useState(null),[P,$]=x.useState(null),q=x.useRef(),[L,z]=x.useState(!1),[B,O]=x.useState(!1),[H,R]=x.useState({customerName:"",email:"",phone:"",password:"",accountStatus:1}),[J,T]=x.useState(null),[V,W]=x.useState([]),[G,K]=x.useState(!1),[Q,X]=x.useState(!1),[Y,Z]=x.useState({doctorName:"",phoneNumber:"",degree:""}),[ee,te]=x.useState(null),[se,le]=x.useState([]),[ae,oe]=x.useState({}),re=()=>l(!1),de=()=>o(!1),ne=()=>z(!1),ie=()=>O(!1),ce=()=>K(!1),ue=()=>X(!1),me=()=>i(this,null,function*(){var t,s,l,a;try{I(!0),$(null);const l=yield j.post(h.api_view_one_hospital,{hospitalId:e});(null==(t=null==l?void 0:l.data)?void 0:t.status)?E(l.data.data):(E(null),$((null==(s=null==l?void 0:l.data)?void 0:s.message)||"Failed to fetch hospital data"))}catch(o){E(null);const e=(null==(a=null==(l=null==o?void 0:o.response)?void 0:l.data)?void 0:a.message)||"Failed to fetch hospital data";$(e),m.error("Error: "+e),console.error("Failed to fetch hospital data",o)}finally{I(!1)}}),xe=e=>{const{name:t,value:s,type:l,checked:a}=e.target;R(e=>n(d({},e),{[t]:"checkbox"===l?a:s}))},he=e=>{const{name:t,value:s,type:l,checked:a}=e.target;T(e=>n(d({},e),{[t]:"checkbox"===l?a:s}))},pe=t=>i(this,null,function*(){var s,l,a,o;if(window.confirm("Are you sure you want to delete this user?"))try{oe(e=>n(d({},e),{[`deleteUser_${t}`]:!0}));const a=yield j.delete(`${h.api_delete_user}/${t}`,{data:{hospitalId:e}});(null==(s=null==a?void 0:a.data)?void 0:s.status)?(m.success("User deleted successfully!"),me()):m.error((null==(l=null==a?void 0:a.data)?void 0:l.message)||"Failed to delete user")}catch(r){const e=(null==(o=null==(a=null==r?void 0:r.response)?void 0:a.data)?void 0:o.message)||"Failed to delete user";m.error("Error: "+e),console.error("Failed to delete user",r)}finally{oe(e=>n(d({},e),{[`deleteUser_${t}`]:!1}))}}),ge=e=>{const{name:t,value:s}=e.target;Z(e=>n(d({},e),{[t]:s}))},be=e=>{const{name:t,value:s}=e.target;te(e=>n(d({},e),{[t]:s}))},ye=t=>i(this,null,function*(){var s,l,a,o;if(window.confirm("Are you sure you want to delete this doctor?"))try{oe(e=>n(d({},e),{[`deleteDoctor_${t}`]:!0}));const a=yield j.delete(`${h.api_delete_doctor}/${t}`,{data:{hospitalId:e}});(null==(s=null==a?void 0:a.data)?void 0:s.status)?(m.success("Doctor deleted successfully!"),me()):m.error((null==(l=null==a?void 0:a.data)?void 0:l.message)||"Failed to delete doctor")}catch(r){const e=(null==(o=null==(a=null==r?void 0:r.response)?void 0:a.data)?void 0:o.message)||"Failed to delete doctor";m.error("Error: "+e),console.error("Failed to delete doctor",r)}finally{oe(e=>n(d({},e),{[`deleteDoctor_${t}`]:!1}))}});if(x.useEffect(()=>{me()},[e]),x.useEffect(()=>{M&&(W(M.users||[]),le(M.doctors||[]))},[M]),C)return u.jsx("div",{className:"text-center text-xl mt-10",children:"Loading..."});if(!M)return u.jsx("div",{className:"text-center text-xl mt-10",children:"No Hospital Data Found"});const{name:fe,address:je,city:ve,state:Ne,postalCode:we,country:ke,phoneNumber:Ce,email:Se,website:De,users:Ue,doctors:Ae,logoUrl:Fe,isActive:_e}=M,Ie=e=>{c(n(d({},r),{[e.target.name]:e.target.value}))},Me=()=>i(this,null,function*(){try{yield j.put(h.api_update_hospital,d({hospitalId:e},r)),de(),me(),alert("Hospital details updated!")}catch(t){alert("Failed to update hospital.")}});return u.jsxs(u.Fragment,{children:[u.jsx(p,{title:"Hospital Details"}),u.jsxs("button",{onClick:()=>t(-1),className:"fixed top-20 right-10 z-50 flex items-center gap-2 bg-white shadow-lg rounded-lg px-3 py-2 text-gray-600 hover:text-gray-800 hover:shadow-xl transition-all duration-200 border border-gray-200",children:[u.jsx(k,{size:18}),u.jsx("span",{className:"font-medium text-sm",children:"Back"})]}),u.jsx(g,{showModal:s,closeModal:re,children:u.jsx(_,{hospitalId:e,showModal:s,closeModal:re,refetchHospitalData:me})}),u.jsx(g,{showModal:L,closeModal:ne,children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Add New User"}),u.jsxs("form",{onSubmit:t=>i(this,null,function*(){var s,l,a,o;t.preventDefault();try{oe(e=>n(d({},e),{addUser:!0}));const t=n(d({},H),{hospitalId:e}),a=yield j.post(h.api_add_user,t);(null==(s=null==a?void 0:a.data)?void 0:s.status)?(m.success("User added successfully!"),ne(),me()):m.error((null==(l=null==a?void 0:a.data)?void 0:l.message)||"Failed to add user")}catch(r){const e=(null==(o=null==(a=null==r?void 0:r.response)?void 0:a.data)?void 0:o.message)||"Failed to add user";m.error("Error: "+e),console.error("Failed to add user",r)}finally{oe(e=>n(d({},e),{addUser:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Full Name"}),u.jsx("input",{type:"text",name:"customerName",value:H.customerName,onChange:xe,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:H.email,onChange:xe,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:H.phone,onChange:xe,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Password"}),u.jsx("input",{type:"password",name:"password",value:H.password,onChange:xe,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Account Status"}),u.jsxs("select",{name:"accountStatus",value:H.accountStatus,onChange:xe,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",children:[u.jsx("option",{value:1,children:"Active"}),u.jsx("option",{value:0,children:"Unverified"}),u.jsx("option",{value:2,children:"Payment Due"}),u.jsx("option",{value:3,children:"Self Deactivated"}),u.jsx("option",{value:9,children:"Blocked"})]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:ne,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:ae.addUser,className:"px-5 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 shadow transition-colors disabled:opacity-50",children:ae.addUser?"Adding...":"Add User"})]})]})]})}),u.jsx(g,{showModal:B,closeModal:ie,children:J&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit User"}),u.jsxs("form",{onSubmit:t=>i(this,null,function*(){var s,l,a,o;t.preventDefault();try{oe(e=>n(d({},e),{updateUser:!0}));const t=n(d({},J),{hospitalId:e}),a=yield j.put(`${h.api_update_user}/${J.userId}`,t);(null==(s=null==a?void 0:a.data)?void 0:s.status)?(m.success("User updated successfully!"),ie(),me()):m.error((null==(l=null==a?void 0:a.data)?void 0:l.message)||"Failed to update user")}catch(r){const e=(null==(o=null==(a=null==r?void 0:r.response)?void 0:a.data)?void 0:o.message)||"Failed to update user";m.error("Error: "+e),console.error("Failed to update user",r)}finally{oe(e=>n(d({},e),{updateUser:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Full Name"}),u.jsx("input",{type:"text",name:"customerName",value:J.customerName,onChange:he,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Email"}),u.jsx("input",{type:"email",name:"email",value:J.email,onChange:he,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone"}),u.jsx("input",{type:"tel",name:"phone",value:J.phone||"",onChange:he,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Account Status"}),u.jsxs("select",{name:"accountStatus",value:J.accountStatus,onChange:he,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50",children:[u.jsx("option",{value:1,children:"Active"}),u.jsx("option",{value:0,children:"Unverified"}),u.jsx("option",{value:2,children:"Payment Due"}),u.jsx("option",{value:3,children:"Self Deactivated"}),u.jsx("option",{value:9,children:"Blocked"})]})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:ie,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:ae.updateUser,className:"px-5 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 shadow transition-colors disabled:opacity-50",children:ae.updateUser?"Updating...":"Update User"})]})]})]})}),u.jsx(g,{showModal:G,closeModal:ce,children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Add New Doctor"}),u.jsxs("form",{onSubmit:t=>i(this,null,function*(){var s,l,a,o;t.preventDefault();try{oe(e=>n(d({},e),{addDoctor:!0}));const t=n(d({},Y),{hospitalId:e}),a=yield j.post(h.api_add_doctor,t);(null==(s=null==a?void 0:a.data)?void 0:s.status)?(m.success("Doctor added successfully!"),ce(),me()):m.error((null==(l=null==a?void 0:a.data)?void 0:l.message)||"Failed to add doctor")}catch(r){const e=(null==(o=null==(a=null==r?void 0:r.response)?void 0:a.data)?void 0:o.message)||"Failed to add doctor";m.error("Error: "+e),console.error("Failed to add doctor",r)}finally{oe(e=>n(d({},e),{addDoctor:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Doctor Name"}),u.jsx("input",{type:"text",name:"doctorName",value:Y.doctorName,onChange:ge,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone Number"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:Y.phoneNumber,onChange:ge,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Degree"}),u.jsx("input",{type:"text",name:"degree",value:Y.degree,onChange:ge,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:ce,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:ae.addDoctor,className:"px-5 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 shadow transition-colors disabled:opacity-50",children:ae.addDoctor?"Adding...":"Add Doctor"})]})]})]})}),u.jsx(g,{showModal:Q,closeModal:ue,children:ee&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit Doctor"}),u.jsxs("form",{onSubmit:t=>i(this,null,function*(){var s,l,a,o;t.preventDefault();try{oe(e=>n(d({},e),{updateDoctor:!0}));const t=n(d({},ee),{hospitalId:e}),a=yield j.put(`${h.api_update_doctor}/${ee.doctorId}`,t);(null==(s=null==a?void 0:a.data)?void 0:s.status)?(m.success("Doctor updated successfully!"),ue(),me()):m.error((null==(l=null==a?void 0:a.data)?void 0:l.message)||"Failed to update doctor")}catch(r){const e=(null==(o=null==(a=null==r?void 0:r.response)?void 0:a.data)?void 0:o.message)||"Failed to update doctor";m.error("Error: "+e),console.error("Failed to update doctor",r)}finally{oe(e=>n(d({},e),{updateDoctor:!1}))}}),children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Doctor Name"}),u.jsx("input",{type:"text",name:"doctorName",value:ee.doctorName,onChange:be,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Phone Number"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:ee.phoneNumber||"",onChange:be,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:"Degree"}),u.jsx("input",{type:"text",name:"degree",value:ee.degree||"",onChange:be,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:ue,className:"px-5 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:ae.updateDoctor,className:"px-5 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 shadow transition-colors disabled:opacity-50",children:ae.updateDoctor?"Updating...":"Update Doctor"})]})]})]})}),u.jsx(g,{showModal:a,closeModal:de,children:r&&u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-lg mx-auto",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Edit Hospital Details"}),u.jsxs("form",{onSubmit:e=>{e.preventDefault(),Me()},children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.keys(r).map(e=>u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"block text-sm font-semibold mb-1 capitalize text-gray-700",children:e}),u.jsx("input",{type:"text",name:e,value:r[e],onChange:Ie,className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400 bg-gray-50"})]},e))}),u.jsxs("div",{className:"flex gap-3 mt-8 justify-end",children:[u.jsx("button",{type:"button",onClick:de,className:"px-5 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-5 py-2 rounded bg-green-600 text-white font-semibold hover:bg-green-700 shadow",children:"Save"})]})]})]})}),u.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 mt-4",children:[u.jsxs("div",{className:"bg-white shadow-xl rounded-xl flex flex-col md:flex-row items-center md:items-start gap-6 p-6 mb-8",children:[u.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[u.jsxs("div",{className:"relative w-24 h-24 mb-2",children:[u.jsx("img",{src:b||Fe||"https://via.placeholder.com/120x120?text=Logo",alt:"Hospital Logo",className:"w-24 h-24 object-cover rounded-full border-4 border-green-200 shadow"}),u.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1.5 shadow-lg hover:bg-blue-700 transition-colors",onClick:()=>q.current.click(),title:"Upload Logo",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),u.jsx("input",{type:"file",accept:"image/*",ref:q,className:"hidden",onChange:e=>{const t=e.target.files[0];t&&(v(t),y(URL.createObjectURL(t)))}})]}),f&&u.jsx("button",{onClick:()=>i(this,null,function*(){if(!f)return;const t=new FormData;t.append("logo",f),t.append("hospitalId",e);try{yield j.post(h.api_upload_logo,t,{headers:{"Content-Type":"multipart/form-data"}}),v(null),y(null),me(),alert("Logo uploaded successfully!")}catch(s){alert("Failed to upload logo.")}}),className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 mt-1",children:"Upload"}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full mt-2 "+(_e?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500"),children:_e?"Active":"Inactive"})]}),u.jsxs("div",{className:"flex-1 w-full",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-2",children:[u.jsx("h2",{className:"text-xl font-bold mb-1 md:mb-0",children:fe}),u.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[u.jsxs("button",{onClick:()=>t(`/Hospital/${e}/patients`),className:"flex items-center gap-1 px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600 text-xs",children:[u.jsx(F,{size:14}),"View Patients"]}),u.jsx("button",{onClick:()=>{c({name:fe,address:je,city:ve,state:Ne,postalCode:we,country:ke,phoneNumber:Ce,email:Se,website:De}),o(!0)},className:"px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600 text-xs",children:"Edit"}),u.jsx("button",{onClick:()=>i(this,null,function*(){if(window.confirm("Are you sure you want to deactivate this hospital?"))try{yield j.put(h.api_deactivate_hospital,{hospitalId:e}),me(),alert("Hospital deactivated!")}catch(t){alert("Failed to deactivate hospital.")}}),className:"px-3 py-1 rounded bg-gray-500 text-white hover:bg-gray-600 text-xs",children:"Deactivate"}),u.jsx("button",{onClick:()=>i(this,null,function*(){if(window.confirm("Are you sure you want to delete this hospital?"))try{yield j.delete(h.api_delete_hospital,{data:{hospitalId:e}}),t(-1)}catch(s){}}),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700 text-xs",children:"Delete"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-1 text-sm text-gray-700",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Address:"})," ",je,", ",ve,", ",Ne,", ",we,", ",ke]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Phone:"})," ",Ce]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Email:"})," ",Se]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Website:"})," ",u.jsx("a",{href:De,className:"text-blue-600 underline",target:"_blank",rel:"noopener noreferrer",children:De})]})]})]})]}),u.jsxs("div",{className:"bg-white shadow-xl rounded-xl p-6 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Users Management"}),u.jsxs("button",{onClick:()=>{R({customerName:"",email:"",phone:"",password:"",accountStatus:1}),z(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors shadow-lg",children:[u.jsx(S,{size:20}),"Add New User"]})]}),C?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):V&&V.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-b-2 border-blue-200",children:[u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"#"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Full Name"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Email"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Phone"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Status"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Joined On"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Actions"})]})}),u.jsx("tbody",{children:V.map((e,t)=>u.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"py-3 px-4 font-medium text-gray-600",children:t+1}),u.jsx("td",{className:"py-3 px-4 font-medium text-gray-800",children:e.customerName}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.email}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.phone||"N/A"}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+(1===e.accountStatus?"bg-green-100 text-green-800":0===e.accountStatus?"bg-yellow-100 text-yellow-800":2===e.accountStatus?"bg-orange-100 text-orange-800":3===e.accountStatus?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:1===e.accountStatus?"Active":0===e.accountStatus?"Unverified":2===e.accountStatus?"Payment Due":3===e.accountStatus?"Deactivated":"Blocked"})}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(e.createdAt).toLocaleDateString()}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>(e=>{T(d({},e)),O(!0)})(e),className:"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:ae[`updateUser_${e.userId}`],children:[u.jsx(A,{size:14}),"Edit"]}),u.jsxs("button",{onClick:()=>pe(e.userId),className:"flex items-center gap-1 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:ae[`deleteUser_${e.userId}`],children:[u.jsx(D,{size:14}),"Delete"]})]})})]},e.userId))})]})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 mb-4",children:u.jsx(S,{size:48,className:"mx-auto"})}),u.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:"No users found"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first user to get started"})]})]}),u.jsxs("div",{className:"bg-white shadow-xl rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Doctors Management"}),u.jsxs("button",{onClick:()=>{Z({doctorName:"",phoneNumber:"",degree:""}),K(!0)},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors shadow-lg",children:[u.jsx(U,{size:20}),"Add New Doctor"]})]}),C?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading doctors..."})]}):se&&se.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full bg-white text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gradient-to-r from-green-50 to-green-100 border-b-2 border-green-200",children:[u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"#"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Doctor Name"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Phone Number"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Degree"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Registered By"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Joined On"}),u.jsx("th",{className:"py-3 px-4 text-left font-semibold text-gray-700",children:"Actions"})]})}),u.jsx("tbody",{children:se.map((e,t)=>u.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"py-3 px-4 font-medium text-gray-600",children:t+1}),u.jsx("td",{className:"py-3 px-4 font-medium text-gray-800",children:e.doctorName}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.phoneNumber||"N/A"}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.degree||"N/A"}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:e.registeredByName||"Unknown"}),u.jsx("td",{className:"py-3 px-4 text-gray-600",children:new Date(e.createdAt).toLocaleDateString()}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>(e=>{te(d({},e)),X(!0)})(e),className:"flex items-center gap-1 bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:ae[`updateDoctor_${e.doctorId}`],children:[u.jsx(A,{size:14}),"Edit"]}),u.jsxs("button",{onClick:()=>ye(e.doctorId),className:"flex items-center gap-1 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-colors",disabled:ae[`deleteDoctor_${e.doctorId}`],children:[u.jsx(D,{size:14}),"Delete"]})]})})]},e.doctorId))})]})}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 mb-4",children:u.jsx(U,{size:48,className:"mx-auto"})}),u.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:"No doctors found"}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Add your first doctor to get started"})]})]})]})]})}export{I as default};
