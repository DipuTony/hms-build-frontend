import{n as e,j as r}from"./ui-BM_Qdf4X.js";import{r as s}from"./vendor-IVAbD_Ia.js";import"./index.esm-B5BHOsnc.js";import{a as i}from"./axios-CgL8z04V.js";import{A as t}from"./ApiList-B1H3egYh.js";import{$ as o}from"./module-Bt5WAu5e.js";import{a,d as l}from"./router-DmxMsUT6.js";import"./index-B6zYgTVN.js";const n=n=>{const[c,d]=s.useState(!1),[m,x]=s.useState(!1),h=a(),{api_verifyEmailWithLink:f}=t(),{token:g}=l();s.useEffect(()=>{if(console.log(g),!g)return e.error("Verification key not found!"),h("/login");y()},[]);const y=()=>{x(!0),i.post(f,{emailVerifyToken:g}).then(r=>{r.data.status?(d(!0),x(!1),e.success("Email verify successfully."),console.log("Email Verified Successfully",r)):(x(!1),console.log("Invalid Key or Email Already Verified",r),d(!1),e.error("Invalid Key or Email Already Verified"))}).catch(r=>{x(!1),console.log("Error while verification Email",r),e.error("Something went wrong")})};return r.jsx(r.Fragment,{children:r.jsx("section",{className:"h-screen",children:r.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:r.jsx("div",{className:"w-full bg-white rounded-lg shadow  md:mt-0 sm:max-w-md xl:p-0",children:r.jsx("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-center items-center",children:r.jsx(o,{strokeColor:"gray",strokeWidth:"6",animationDuration:"0.75",width:"30",visible:!0})}),r.jsx("p",{className:"text-center",children:"Loading..."})]}):c?r.jsxs("div",{className:"text-center ",children:[r.jsx("p",{className:"font-semibold text-lg",children:"Your Email has been verified successfully."}),r.jsx("p",{children:"Now you can login with your email and password."}),r.jsx("div",{className:"flex justify-center gap-x-5 my-4",children:r.jsx("p",{onClick:()=>h("/login"),className:"cursor-pointer text-sm font-semibold text-gray-700 border border-gray-800 px-2 py-1 rounded hover:bg-gray-600 hover:text-white",children:"Login"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"text-xl text-center font-bold leading-tight tracking-tight text-gray-900 md:text-2xl ",children:"Invalid Key or Email Already Verified"}),r.jsx("div",{className:"flex justify-center gap-x-5 my-4",children:r.jsx("p",{onClick:()=>h("/login"),className:"cursor-pointer text-sm font-semibold text-gray-700 border border-gray-800 px-2 py-1 rounded hover:bg-gray-600 hover:text-white",children:"Login"})})]})})})})})})};export{n as default};
